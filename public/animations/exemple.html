<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/images/favicon.png">
    <title>Animations 3D - Physique</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/animations.css">
  </head>
  <body>
    <a href="/" class="back-link">← Retour</a>

    <div class="container">
      <h1>Coordonnées cartésiennes</h1>

      <!-- Animation 1 : Point dans l'espace -->
      <div class="animation-frame">
        <h2>Coordonnées d'un point</h2>
        <div id="canvas-point"></div>
      </div>

      <!-- Animation 2 : Cube paramétrable -->
      <div class="animation-frame">
        <h2>Volume infinitésimal</h2>
        <div id="canvas-cube"></div>
      </div>
    </div>

    <!-- Three.js depuis CDN -->
    <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.164.1/build/three.module.js",
          "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.164.1/examples/jsm/"
        }
      }
    </script>

    <script type="module">
      import { initPointAnimation } from "/js/animation-point.js";
      import { initCubeAnimation } from "/js/animation-cube.js";
      import { resizeOrthographicCamera } from "/js/utils.js";

      // Initialiser les animations
      const pointAnim = initPointAnimation("canvas-point");
      const cubeAnim = initCubeAnimation("canvas-cube");

      // Gestion du redimensionnement
      // window.addEventListener("resize", () => {
      //   const width = document.getElementById("canvas-point").clientWidth;
      //   const height = document.getElementById("canvas-point").clientHeight;

      //   resizeOrthographicCamera(pointAnim.camera, width, height);
      //   pointAnim.renderer.setSize(width, height);

      //   resizeOrthographicCamera(cubeAnim.camera, width, height);
      //   cubeAnim.renderer.setSize(width, height);
      // });
    </script>
  </body>
</html>
